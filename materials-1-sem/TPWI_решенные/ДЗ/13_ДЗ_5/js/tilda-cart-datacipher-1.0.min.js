!function(exports){var XORCipher={encode:function(key,data){return b64_encode(data=xor_encrypt(key,data))},decode:function(key,data){return xor_decrypt(key,data=b64_decode(data))}};function stringToUtf8ByteArray(str){for(var out=[],p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);c<128?out[p++]=c:c<2048?(out[p++]=c>>6|192,out[p++]=63&c|128):55296==(64512&c)&&i+1<str.length&&56320==(64512&str.charCodeAt(i+1))?(c=65536+((1023&c)<<10)+(1023&str.charCodeAt(++i)),out[p++]=c>>18|240,out[p++]=c>>12&63|128,out[p++]=c>>6&63|128,out[p++]=63&c|128):(out[p++]=c>>12|224,out[p++]=c>>6&63|128,out[p++]=63&c|128)}return out}function utf8ByteArrayToString(bytes){for(var out=[],pos=0,c=0;pos<bytes.length;){var c1=bytes[pos++];if(c1<128)out[c++]=String.fromCharCode(c1);else if(c1>191&&c1<224){var c2=bytes[pos++];out[c++]=String.fromCharCode((31&c1)<<6|63&c2)}else if(c1>239&&c1<365){var c2,c3,c4,u=((7&c1)<<18|(63&(c2=bytes[pos++]))<<12|(63&(c3=bytes[pos++]))<<6|63&bytes[pos++])-65536;out[c++]=String.fromCharCode(55296+(u>>10)),out[c++]=String.fromCharCode(56320+(1023&u))}else{var c2=bytes[pos++],c3=bytes[pos++];out[c++]=String.fromCharCode((15&c1)<<12|(63&c2)<<6|63&c3)}}return out.join("")}var b64_table="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b64_encode(data){var o1,o2,o3,h1,h2,h3,h4,bits,r,i=0,enc="";if(!data)return data;do{h2=(bits=(o1=data[i++])<<16|(o2=data[i++])<<8|(o3=data[i++]))>>12&63,h3=bits>>6&63,h4=63&bits,enc+=b64_table.charAt(h1=bits>>18&63)+b64_table.charAt(h2)+b64_table.charAt(h3)+b64_table.charAt(h4)}while(i<data.length);return((r=data.length%3)?enc.slice(0,r-3):enc)+"===".slice(r||3)}function b64_decode(data){var o1,o2,o3,h1,h2,h3,h4,bits,i=0,result=[];if(!data)return data;data+="";do{o1=(bits=(h1=b64_table.indexOf(data.charAt(i++)))<<18|(h2=b64_table.indexOf(data.charAt(i++)))<<12|(h3=b64_table.indexOf(data.charAt(i++)))<<6|(h4=b64_table.indexOf(data.charAt(i++))))>>16&255,o2=bits>>8&255,o3=255&bits,result.push(o1),64!==h3&&(result.push(o2),64!==h4&&result.push(o3))}while(i<data.length);return result}function xor_encrypt(key,data){return key=stringToUtf8ByteArray(key),stringToUtf8ByteArray(data).map((function(c,i){return c^key[Math.floor(i%key.length)]}))}function xor_decrypt(key,data){return key=stringToUtf8ByteArray(key),utf8ByteArrayToString(data.map((function(c,i){return c^key[Math.floor(i%key.length)]})))}exports.tcart__dataCipher=XORCipher}(this);