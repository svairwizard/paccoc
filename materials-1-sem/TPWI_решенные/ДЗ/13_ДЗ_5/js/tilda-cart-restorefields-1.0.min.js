function tcart__restoreFields(){var e,t,r;if("object"==typeof sessionStorage)try{r=sessionStorage.getItem("cartkey")}catch(s){console.error("Your web browser does not support storing a 'cartkey' data locally a session.")}else console.error("Your web browser does not support sessionStorage.");var a=function e(){if(t){var a="tilda-cart-datacipher-1.0.min.js";if(!document.querySelector('script[src^="'+a+'"]')){var o=document.createElement("script");o.type="text/javascript",o.src=a,o.onload=function(){var e=tcart__dataCipher.decode(r,t);try{var a=JSON.parse(e);window.t_delivery__userFieldsAutoComplete||(window.t_delivery__userFieldsAutoComplete={});var o=!1;a.forEach((function(e){"tildaspec-phone-part[]-iso"!==e.name||(o=!0)})),a.forEach((function(e){try{var t=document.querySelector('.t706 .t-form [type="radio"][name="'+e.name+'"][value="'+e.value+'"]');t&&(t.checked=!0,t&&t_triggerEvent(t,"change")),"paymentsystem"===e.name&&t_triggerEvent(t,"change")}catch(s){}var r;if(!["street","house","entrance","floor","aptoffice","phone","entrancecode","comment","postalcode","country","userinitials","onelineaddress"].some((function(t){var r=e.name==="tildadelivery-"+t;return r&&(window.t_delivery__userFieldsAutoComplete[t]=e.value),r}))){var a=document.querySelector('.t706 .t-form [name="'+e.name+'"]:not([type="radio"])');a&&""===a.value&&"tildadelivery-city"!==e.name?(a.value=e.value,"tildaspec-phone-part[]"===e.name&&t_triggerEvent(a,"input"),a.classList.contains("t-datepicker")&&t_triggerEvent(a,"focusout")):a&&"tildadelivery-city"===e.name&&a.value!==e.value?(a.setAttribute("data-option-selected",!1),a.value=e.value,t_triggerEvent(a,"keyup"),t_triggerEvent(a,"blur")):"tildaspec-phone-part[]-iso"===e.name&&document.querySelector('.t706 .t-form [data-phonemask-country-code="'+e.value+'"]').click()}}))}catch(s){console.error("Can't get JSON."+e)}},o.onerror=function(e){console.error("Upload script failed, error: "+e)},document.head.appendChild(o)}}};if("object"==typeof localStorage){try{e=localStorage.getItem("tcart_savedcontacts_localkey"),t=localStorage.getItem("tcart_savedcontacts"),e||(e=Math.random().toString(),localStorage.setItem("tcart_savedcontacts_localkey",e));var o={data:btoa(JSON.stringify({projectid:document.querySelector(".t-records").getAttribute("data-tilda-project-id"),pageid:document.querySelector(".t-records").getAttribute("data-tilda-page-id"),localstoragekey:e}))};if(o=JSON.stringify(o),r)a();else{var n=new XMLHttpRequest;n.open("POST","https://store-tools.tildacdn.com/api/v1/getkeyforsavedcontacts/"),n.onload=function(){if(n.status>=200&&n.status<400){var e=n.responseText;"string"==typeof e&&"{"===e.substr(0,1)||console.error("Can't get array.");try{var t=JSON.parse(e);if(t.error,t.error,t.error,"object"==typeof t.data&&Object.prototype.hasOwnProperty.call(t.data,"cartkey")){r=t.data.cartkey;try{sessionStorage.setItem("cartkey",r)}catch(o){console.error("Your web browser does not support storing a 'cartkey' data locally a session.")}a()}}catch(s){console.error("Can't get JSON. It's incorrect: ",e),localStorage.removeItem("tcart_savedcontacts"),localStorage.removeItem("tcart_savedcontacts_localkey")}}},n.ontimeout=n.onerror=function(){var e=document.querySelector(".t-input-group_sf");if(e){var t=e.querySelector("label");t&&t.classList.add("t706__submit_disable");var r=e.querySelector("input");r&&(r.disabled=!0,r.checked=!1)}console.log("Can't get cartkey. Server is unavailable.")},n.send(o)}}catch(s){console.error("Your web browser does not support storing a 'tcart_savedcontacts' data locally. "+s)}var c=function e(t){var a=t.target.querySelector(".t-input-group_sf input").checked;if(r&&a){var o=function e(){var a=tcart__serializeCartForm(t.target),o=[];a.forEach((function(e){if(-1===e.name.indexOf("form-spec-")&&(-1===e.name.indexOf("tildaspec-")||"tildaspec-phone-part[]"===e.name)&&-1===e.name.indexOf("formservices")&&""!==e.value&&(o.push(e),"tildaspec-phone-part[]"===e.name)){var r=t.target.querySelector('[name="'+e.name+'"]').getAttribute("data-phonemask-iso");o.push({name:"tildaspec-phone-part[]-iso",value:r})}}));var n=JSON.stringify(o);if("object"==typeof tcart__dataCipher){var c=tcart__dataCipher.encode(r,n);localStorage.setItem("tcart_savedcontacts",c)}},n="tilda-cart-datacipher-1.0.min.js";if(document.querySelector('script[src^="'+n+'"]'))o();else{var c=document.createElement("script");c.type="text/javascript",c.src=n,document.head.appendChild(c),c.onload=function(){o()}}}};document.querySelector(".t706 .t-form").addEventListener("tildaform:beforesend",c)}else console.error("Your web browser does not support localstorage.")}function tcart__serializeCartForm(e){for(var t=[],r=e.querySelectorAll("input, textarea, button, select"),a=0;a<r.length;a++)if(!(!r[a].name||r[a].disabled||("hidden"==r[a].type||null===r[a].offsetParent)&&0!==r[a].name.indexOf("tildadelivery-pickup-name")||["file","reset","submit","button"].indexOf(r[a].type)>-1))if("select-multiple"!==r[a].type)["checkbox","radio"].indexOf(r[a].type)>-1&&!r[a].checked||t.push({name:r[a].name,value:r[a].value});else for(var o=r[a].options,n=0;n<o.length;n++)o[n].selected&&t.push({name:o[n].name,value:o[n].value});return t}function t_triggerEvent(e,t){var r;document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent(t,!0,!1):document.createEventObject&&((r=document.createEventObject()).eventType=t),r.eventName=t,e.dispatchEvent?e.dispatchEvent(r):e.fireEvent?e.fireEvent("on"+r.eventType,r):e[t]?e[t]():e["on"+t]&&e["on"+t]()}