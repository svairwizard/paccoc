function t_ready(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function t_siblings(e,t){return e.parentNode?Array.prototype.filter.call(e.parentNode.children,(function(e){return e.classList.contains(t)})):[]}function t_remove(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function t_form_phonemask__initPhoneMask(){var e;Array.from(document.querySelectorAll(".js-phonemask-input")).forEach((function(e){var t;"true"===e.getAttribute("data-phonemask-skip-auto-init")||t_form_phonemask_load(e)}))}function t_form_phonemask_load_one(e){var t=document.querySelectorAll("#rec"+e+" .js-phonemask-input");Array.prototype.forEach.call(t,t_form_phonemask_load)}function t_form_phonemask_load(e){if(e instanceof Element||(e=e[0]),e&&void 0!==e.getAttribute){var t=e.getAttribute("data-phonemask-id"),n=e.getAttribute("data-phonemask-lid"),a=e.getAttribute("data-phonemask-maskcountry")||"";e.setAttribute("data-phonemask-init","yes"),t_form_phonemask_init(t,n,a)}}function t_form_phonemask__mulitple__load(e){if(e.length){var t=e[0],n,a,o;t_form_phonemask_init(t.getAttribute("data-phonemask-id"),t.getAttribute("data-phonemask-lid"),t.getAttribute("data-phonemask-maskcountry")||"",{multiple:!0}),e.forEach((function(e){e.setAttribute("data-phonemask-init","yes")}))}}function t_form_phonemask_init(e,t,n,a){var o,p=(a||{}).multiple,i,r=void 0!==p&&p?t_form_phonemask__multiple__initPhoneMaskForm:t_form_phonemask_initPhoneMaskForm;if(n&&"undefined"!==n)r(e,t,n);else if(window.geoCountry)r(e,t,window.geoCountry);else if(window.geoCountryRequested)document.addEventListener("geoCountryLoaded",(function(){r(e,t,window.geoCountry)}));else{var s=new XMLHttpRequest;s.open("GET","ru",!0),s.onreadystatechange=function(){if(4===s.readyState)if(s.status>=200&&s.status<400){n=s.responseText,window.geoCountry=n;var a=document.createEvent("Event");a.initEvent("geoCountryLoaded",!0,!1),document.dispatchEvent(a),r(e,t,n)}else r(e,t,"")},s.send(),window.geoCountryRequested=!0}}function t_form_phonemask_initPhoneMaskForm(e,t,n){var a=document.querySelector("#rec"+e);if(a){var o=t_form_phonemask__getInputGroup(a,t);if(o&&!o.getAttribute("data-init-mask")){document.getElementById("phone-mask-style")||t_form_phonemask__addStyle();var p=t_form_phonemask__prepareISOandCountry(n);t_form_phonemask__saveISOtoLocalStorage(p.iso),t_form_phonemask__prepareInputGroup({rec:a,group:o,countryConfig:p,lid:t}),t_form_phonemask__triggerInitMask(o)}}}function t_form_phonemask__multiple__initPhoneMaskForm(e,t,n){void 0===n&&(n="");var a=document.querySelector("#rec"+e);if(a){var o=t_form_phonemask__getInputGroup(a,t);if(o&&!o.getAttribute("data-init-mask")){document.getElementById("phone-mask-style")||t_form_phonemask__addStyle();var p=t_form_phonemask__prepareISOandCountry(n),i;t_form_phonemask__saveISOtoLocalStorage(p.iso),o.querySelectorAll(".t-phonemask-input-group").forEach((function(e){t_form_phonemask__prepareInputGroup({group:e,countryConfig:p,rec:a,lid:t})})),t_form_phonemask__triggerInitMask(o)}}}function t_form_phonemask__replaceInput(e){var t=e.querySelector(".js-phonemask-input");if(t){var n=t.getAttribute("name"),a=t.getAttribute("data-tilda-req")?'data-tilda-req="1"':"",o=!!t.classList.contains("t-input_bbonly"),p=t.getAttribute("style"),i=t.value;t.outerHTML='<div class="t-input t-input-phonemask__wrap" style="'+p+'"><div class="t-input-phonemask__select"><span class="t-input-phonemask__select-flag" data-phonemask-flag=""></span><span class="t-input-phonemask__select-triangle"></span><span class="t-input-phonemask__select-code"></span></div><div class="t-input-phonemask__options-wrap" data-nosnippet></div><input type="hidden" class="js-phonemask-result-iso" name="tildaspec-phone-part[]-iso" value="" tabindex="-1"><input type="tel" class="t-input t-input-phonemask" name="tildaspec-phone-part[]" value="'+i+'" placeholder=""><input type="hidden" class="js-phonemask-result js-tilda-rule" data-tilda-rule="phone" name="'+n+'" value="'+i+'" '+a+' tabindex="-1">        </div>';var r=e.querySelector(".t-input-phonemask__wrap");o&&r.classList.add("t-input_bbonly");var s=t_siblings(r,"t-input__vis-ph");0!==s.length&&Array.prototype.forEach.call(s,(function(e){t_remove(e)}))}}function t_form_phonemask__prepareInputGroup(e){var t=e.group,n=e.countryConfig,a=e.lid,o=e.rec,p=n.iso,i=n.countries,r=n.currentCountry;t_form_phonemask__replaceInput(t);var s=t.querySelector(".t-input-phonemask");if(s){var m=t_form_phonemask__preparePhoneMaskInput(s,{lid:a,iso:p,country:r}),c=m.code,l=m.placeholder,u=t.querySelector(".t-input-phonemask__select-flag"),x=t.querySelector(".t-input-phonemask__select-code"),d;u.setAttribute("data-phonemask-flag",p),x.innerHTML=c,t_form_phonemask__changeMinLength(l,c,t),t_form_phonemask__addCurrentStyle(t),t.querySelector(".t-input-phonemask__options-wrap").innerHTML=t_form_phonemask__getDrawSelector(i),t_form_phonemask__initSelectEvents(o,t,i)}}function t_form_phonemask__getInputGroup(e,t){var n=e.querySelector('[data-input-lid="'+t+'"]'),a;return n||(window.tildamode&&"zero"===window.tildamode?e.querySelector('.tn-artboard [data-input-lid="'+t+'"]')||e.querySelector(".tn-artboard"):document.body)}function t_form_phonemask__prepareISOandCountry(e){void 0===e&&(e="");var t={n:"Russian Federation (Российская Федерация)",c:"+7",m:"+7(999) 999-99-99"},n="ru",a=e;a.length>0&&(a=a.toLowerCase()),a.length>2&&(a="");var o=t_form_phonemask__getCountriesList(),p=o[a];return p||(p=t,a=n),{iso:a,countries:o,currentCountry:p}}function t_form_phonemask__saveISOtoLocalStorage(e){try{localStorage.setItem("iso_code",e)}catch(t){console.error("Your web browser does not support storing a ISO Phone Code data locally.",t)}}function t_form_phonemask__preparePhoneMaskInput(e,t){var n=t.iso,a=t.country,o=t.lid,p=a.c||"",i=a.m||"",r=i?i.substr(p.length).replace(/^-+/,""):"";return e.setAttribute("id","input_"+o),e.setAttribute("data-phonemask-iso",n),e.setAttribute("data-phonemask-code",p),e.setAttribute("data-phonemask-mask",i),e.setAttribute("placeholder",r),t_form_phonemask__calcMaxlength(e),{code:p,mask:i,placeholder:r}}function t_form_phonemask__calcMaxlength(e){var t=e.getAttribute("data-phonemask-mask").substr(e.getAttribute("data-phonemask-code").length);"-"===t.charAt(0)&&(t=t.substring(1)),e.setAttribute("maxlength",t.length),e.setAttribute("data-phonemask-without-code",t)}function t_form_phonemask__triggerInitMask(e){e.setAttribute("data-init-mask","yes"),t_triggerEvent(e,"phoneMaskReady")}function t_form_phonemask__addCurrentStyle(e){var t=e.querySelector(".t-input-phonemask__wrap"),n=e.querySelector(".t-input-phonemask"),a=e.querySelector(".t-input-block"),o=e.querySelector(".t-input-phonemask__select-code"),p=t.style.color,i=t.style.fontSize,r=t.style.fontWeight,s=t.style.fontFamily;a.style.overflow="visible","rgb(0, 0, 0)"!==p&&(n.style.color=p),n.style.fontSize=i,n.style.fontWeight=r,n.style.fontFamily=s,o.style.fontSize=i,o.style.fontWeight=r}function t_form_phonemask__getDrawSelector(e){var t="";for(var n in t+="<noindex>",e)t+='<div class="t-input-phonemask__options-item" id="t-phonemask_'+n+'" data-phonemask-name="'+e[n].n+'" data-phonemask-mask="'+e[n].m+'" data-phonemask-country-code="'+n+'" data-phonemask-code="'+e[n].c+'">',t+='<div class="t-input-phonemask__options-name">'+e[n].n+"</div>",t+='<div class="t-input-phonemask__options-right">',t+='<span class="t-input-phonemask__options-code">'+e[n].c+"</span>",t+='<span class="t-input-phonemask__options-flag t-input-phonemask__options-flag_'+n+'"></span>',t+="</div>",t+="</div>";return t+="</noindex>"}function t_form_phonemask__initSelectEvents(e,t,n){var a=e.querySelectorAll(".t-cover, .t396__artboard"),o=t.querySelector(".t-input-phonemask"),p=t.querySelector(".t-input-phonemask__select"),i=t.querySelector(".t-input-phonemask__options-wrap"),r=t.querySelectorAll(".t-input-phonemask__options-item"),s="",m="";function c(){clearTimeout(m),m=setTimeout((function(){s=""}),1500)}function l(){if(i.classList.contains("t-input-phonemask__options-wrap_open")?u():(u(),i.classList.add("t-input-phonemask__options-wrap_open")),1===a.length){var n=a[0].getBoundingClientRect().height,o=t.getBoundingClientRect(),p=o.y-e.getBoundingClientRect().y,r=o.height,s=i.getBoundingClientRect().height,m=p+s+r,c=o.y-s+window.scrollY;m>n&&c>0?(i.style.top="auto",i.style.bottom="100%"):(i.style.bottom="auto",i.style.top="100%")}}function u(){var e=document.querySelector(".t-input-phonemask__options-wrap_open");e&&e.classList.remove("t-input-phonemask__options-wrap_open")}function x(){var e=this,n=e.value,a;"("!==n&&n||(e.value="",t.querySelector(".js-phonemask-result").value="",t.querySelector(".js-phonemask-result-iso").value=""),e.setAttribute("data-phonemask-current",n),t_form_phonemask__addNumberMask(t_form_phonemask__copypasteHandling(e,e.getAttribute("data-phonemask-without-code")),e),t_form_phonemask__changeVal(t,o),"+7"===e.getAttribute("data-phonemask-code")&&1===e.value.indexOf("89")&&(e.value=e.value.replace("89","9"))}function d(){t_form_phonemask__chooseCountry(t,this),t_form_phonemask__calcMaxlength(o),u()}function _(e){var t=e.target.closest(".t-input-phonemask__options-wrap"),n=e.target.closest(".t-input-phonemask__select");t||n||u()}function h(e){var t=document.querySelector(".t-input-phonemask__options-wrap_open");if(t){var a=/[-[\]/{}()*+?.\\^$|]/g,o=t.querySelector(".t-input-phonemask__options-item_chosen"),p=[];if(o&&o.classList.remove("t-input-phonemask__options-item_chosen"),e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105){for(var i in s=(s+=e.key).replace(a,"\\$&"),n)t_form_phonemask__searchCountry(t,s,p,i,n[i].c);t_form_phonemask__scrollToCountry(t,p)}else if(e.keyCode>=65&&e.keyCode<=90||32==e.keyCode){for(var i in s=(s+=e.key).replace(a,"\\$&"),n)t_form_phonemask__searchCountry(t,"^"+s,p,i,n[i].n);t_form_phonemask__scrollToCountry(t,p)}c()}}t_form_phonemask__changeVal(t,o),p.addEventListener("click",l),o.addEventListener("paste",(function(e){var t=(e.clipboardData||window.clipboardData).getData("text");if(t){t=t.replace(/[^0-9+]/g,"");var n=e.target;n&&(n.value=t,x.call(n),e.preventDefault())}})),o.addEventListener("input",x),Array.prototype.forEach.call(r,(function(e){e.addEventListener("click",d)})),document.addEventListener("mouseup",_),document.addEventListener("keyup",h),document.querySelector('[data-init-mask="yes"]')||(document.addEventListener("mouseup",_),document.addEventListener("keyup",h))}function t_form_phonemask__copypasteHandling(e,t){var n=e.value,a=n.match(/[0-9]/g)?n.match(/[0-9]/g):n;return"object"==typeof a&&a.length>t.match(/[0-9]/g).join("").length&&(n=a.splice(e.getAttribute("data-phonemask-code").match(/[0-9]/g).length).join("")),n}function t_form_phonemask__addNumberMask(e,t){var n=t.getAttribute("data-phonemask-code"),a=t.getAttribute("data-phonemask-mask").substr(n.length),o=e.match(/\d+/g),p=(o=o?o.join(""):"").split(""),i=a.match(/(\+|\d+|[\s()-]|9+)/g),r="";if(i){for(var s=0;s<i.length;s++)"9"===i[s][0]?(r+=p.slice(0,i[s].length).join(""),p.splice(0,i[s].length)):r+=i[s];r=(r=r.replace(/[\s()-]+$/,"")).replace(/^-+/,""),t.value=r}}function t_form_phonemask__changeVal(e,t){t.value&&(e.querySelector(".js-phonemask-result").value=t.getAttribute("data-phonemask-code")+" "+t.value,e.querySelector(".js-phonemask-result-iso").value=t.getAttribute("data-phonemask-code"))}function t_form_phonemask__chooseCountry(e,t){var n=e.querySelector(".t-input-phonemask"),a=e.querySelector(".t-input-phonemask__select-code"),o=e.querySelector(".t-input-phonemask__select-flag"),p=t.getAttribute("data-phonemask-code"),i=t.getAttribute("data-phonemask-mask"),r=t.getAttribute("data-phonemask-country-code"),s=n.getAttribute("data-phonemask-current");n.setAttribute("data-phonemask-iso",r),n.setAttribute("data-phonemask-code",p),n.setAttribute("data-phonemask-mask",i);var m=i.substr(p.length).replace(/^-+/,"");n.setAttribute("placeholder",m),a.innerHTML=p,o.setAttribute("data-phonemask-flag",r);try{localStorage.setItem("iso_code",r)}catch(c){console.error("Your web browser does not support storing a ISO Phone Code data locally.")}n.focus(),s&&t_form_phonemask__addNumberMask(s,n),t_form_phonemask__changeVal(e,n),t_form_phonemask__changeMinLength(m,p,e)}function t_form_phonemask__searchCountry(e,t,n,a,o){var p=new RegExp(t,"i");-1!==o.search(p)&&(n.push(e.querySelector("#t-phonemask_"+a)),n[0].classList.add("t-input-phonemask__options-item_chosen"))}function t_form_phonemask__scrollToCountry(e,t){if(0!==t.length){var n,a=Array.prototype.sort.call(t,(function(e,t){return e.dataset.phonemaskCode.length-t.dataset.phonemaskCode.length}))[0].getBoundingClientRect().top,o=e.getBoundingClientRect().top,p=document.body.scrollTop+e.scrollTop;e.scrollTop=a-o+p}}function t_form_phonemask__changeMinLength(e,t,n){var a=1;if(e&&t){var o=1,p=n.querySelector(".t-input-phonemask"),i=n.querySelector(".js-phonemask-result"),r=p.getAttribute("data-phonemask-code"),s={"+49":1,"+372":1,"+355":1,"+213":1,"+975":1,"+267":1,"+359":1,"+53":1,"+36":1,"+961":1,"+54":1,"+82":1,"+880":1,"+970":1,"+385":1,"+43":1,"+357":1,"+61":1,"+507":1,"+55":1,"+33":1,"+593":1,"+383":1,"+39":1,"+86":1,"+977":1,"+230":1,"+63":1,"+258":1,"+972":2,"+234":2,"+62":3,"+44":4,"+358":4,"+60":2,"+252":1};a=t.length+1+e.length-(s[r]||0)}i.setAttribute("data-tilda-rule-minlength",a)}function t_form_phonemask__addStyle(){var e='.t-input-group.js-error-control-box .t-input-phonemask{border:0!important}.t-input_pvis.t-input-phonemask__wrap{padding-top:0;padding-bottom:0}.t-input-phonemask__wrap{position:relative;display:-ms-flexbox;display:-webkit-box;display:flex}.t-input-phonemask{height:auto;padding:0;background-color:transparent}.t-input-phonemask__options-wrap{display:none;position:absolute;top:calc(100% + 5px);left:0;z-index:10;min-width:410px;max-height:200px;padding-top:5px;padding-bottom:5px;background-color:#fff;border:1px solid #eee;border-radius:7px;-webkit-box-shadow:0 0 1px rgba(0,0,0,.1);box-shadow:0 0 1px rgba(0,0,0,.1);overflow-y:scroll}.t-input-phonemask__options-wrap.t-input-phonemask__options-wrap_open{display:block}.t-input-phonemask__options-item{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-pack:end;-webkit-box-pack:justify;justify-content:space-between;-ms-flex-align:center;-webkit-box-align:center;align-items:center;padding:8px 10px;font-family:sans-serif;font-size:14px;color:#000!important;cursor:pointer}.t-input-phonemask__options-right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.t-input-phonemask__options-item.t-input-phonemask__options-item_chosen,.t-input-phonemask__options-item:hover{background-color:#eee}.t-input-phonemask__select{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-align:center;-webkit-box-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0;margin-right:5px;margin-left:0;font-size:16px;cursor:pointer}.t-input-phonemask__select-triangle{position:relative;margin-left:6px;border-style:solid;border-width:5px 4px 0;border-color:#9a9a9a transparent transparent}.t-input-phonemask__select-code{white-space:nowrap}.t-input-phonemask__options-code,.t-input-phonemask__select-code{margin-left:10px}.t-input-phonemask__options-flag,.t-input-phonemask__select-flag{width:18px;min-width:18px;height:13px;background-color:#c5c5c5;-webkit-box-shadow:0 0 5px rgba(0,0,0,.3);box-shadow:0 0 5px rgba(0,0,0,.3)}.t-input-phonemask__options-flag{margin-left:8px}.t-input-phonemask__options-wrap::-webkit-scrollbar{width:8px;height:15px}.t-input-phonemask__options-wrap::-webkit-scrollbar-thumb{border-radius:7px;background:#c2c9d2}@media screen and (max-width:640px){.t-input-phonemask__options-wrap{min-width:auto}}.t-input-phonemask__options-flag,.t-input-phonemask__select-flag{background-image:url(../img/flags.png);background-repeat:no-repeat;display:inline-block}.t-input-phonemask__options-flag_np,.t-input-phonemask__select-flag[data-phonemask-flag="np"]{width:16px;min-width:16px}',t={ru:"-285px -281px"};Object.keys(t).forEach((function(n){e+=".t-input-phonemask__options-flag_"+n+",.t-input-phonemask__select-flag[data-phonemask-flag="+n+"] {background-position:"+t[n]+"}"}));var n=document.createElement("style");n.id="phone-mask-style",n.innerHTML=e,document.head.appendChild(n)}function t_form_phonemask__getCountriesList(){return{ru:{n:"Russian Federation (Российская Федерация)",c:"+7",m:"+7(999) 999-99-99"}}}Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,a=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in t&&e.call(a,t[o],o,t))return!0;return!1}),function(e){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;e.matches=e.matchesSelector=t||function e(t){var e=document.querySelectorAll(t),n=this;return Array.prototype.some.call(e,(function(e){return e===n}))}}(Element.prototype),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}return null}),t_ready(t_form_phonemask__initPhoneMask);